<mat-stepper animationDuration="0" class="watt-stepper" [linear]="true" #stepper>
  <ng-template matStepperIcon="edit">
    <watt-icon name="checkmark"></watt-icon>
  </ng-template>
  <ng-template matStepperIcon="last">
    <watt-icon name="checkmark"></watt-icon>
  </ng-template>
  <ng-template matStepperIcon="error" let-index="index">
    {{ index + 1 }}
  </ng-template>
  <mat-step *ngFor="let step of steps" [stepControl]="step.stepControl">
    <ng-template matStepLabel>{{ step.label }}</ng-template>
    <ng-container *ngTemplateOutlet="step.templateRef"></ng-container>
    <div class="buttonWrapper">
      <watt-button *ngIf="onFirstStep$ | push" variant="secondary" wattStepperPrevious>
        <watt-icon name="left"></watt-icon>
        {{ step.previousButtonLabel }}
      </watt-button>
      <watt-button *ngIf="!(onLastStep$ | push)" variant="secondary" wattStepperNext>
        {{ step.nextButtonLabel }}<watt-icon name="right"></watt-icon>
      </watt-button>
      <watt-button *ngIf="onLastStep$ | push" variant="primary" (click)="complete()">{{
        step.nextButtonLabel
      }}</watt-button>
    </div>
  </mat-step>
</mat-stepper>
