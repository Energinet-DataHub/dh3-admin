<!--
@license
Copyright 2020 Energinet DataHub A/S

Licensed under the Apache License, Version 2.0 (the "License2");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DataHub</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="https://stordesignendku.z6.web.core.windows.net/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://stordesignendku.z6.web.core.windows.net/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://stordesignendku.z6.web.core.windows.net/favicon-16x16.png"
    />
    <link rel="manifest" href="https://stordesignendku.z6.web.core.windows.net/site.webmanifest" />
    <link
      rel="mask-icon"
      href="https://stordesignendku.z6.web.core.windows.net/safari-pinned-tab.svg"
      color="#00847c"
    />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="theme-color" content="#ffffff" />
    <!--- End Favicon -->

    <link rel="stylesheet" href="main.css" />

    <!-- Open Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet" />
    <!-- End of Open Sans -->

    <script src="main.js"></script>
    <script>
      function getB2CFlowLink(flowname) {
        return document.location.href.replace("signin", flowname).replace("sign_in", flowname);
      }

      function appendForgotPasswordTemplate() {
        var forgotPasswordTemplate = document.getElementById("forgotPasswordTemplate");

        var fpElem = document.querySelector("#forgotPassword");
        var forgotPasswordUrl = fpElem.attributes.getNamedItem("href").value;

        var forgotPasswordLinks = forgotPasswordTemplate.querySelectorAll("a");

        forgotPasswordLinks.forEach((link) => {
          link.setAttribute("href", forgotPasswordUrl);
        });

        var forgotPasswordContainer = document.querySelector(".buttons");
        forgotPasswordContainer.appendChild(forgotPasswordTemplate);
      }

      Utils.waitFor("button#next", function (element) {
        element.addEventListener("click", Utils.toggleErrorClasses);
        appendForgotPasswordTemplate();
      });
    </script>
  </head>
  <body>
    <main>
      <div class="logo"></div>
      <div class="login-form">
        <h2 aria-level="1" class="imprint imprint-da">LOG IND</h2>
        <h2 aria-level="1" class="imprint imprint-en">SIGN IN</h2>
        <!-- <div id="api"></div> -->
        <!-- #region delete -->
        <div id="api" data-name="Unified">
          <div
            class="claims-provider-list-buttons social"
            aria-label="Log på med din sociale konto"
            role="form"
          >
            <div class="intro">
              <h2 aria-level="1">Log på med din sociale konto</h2>
            </div>
            <div class="options">
              <div>
                <button
                  class="accountButton firstButton claims-provider-selection"
                  id="MitIDv1"
                  role="link"
                  autofocus=""
                >
                  MitIDv1
                </button>
              </div>
            </div>
          </div>

          <div class="divider">
            <h2>ELLER</h2>
          </div>
          <form
            id="localAccountForm"
            action="JavaScript:void(0);"
            class="localAccount"
            aria-label="Log på med din mailadresse"
          >
            <div class="intro">
              <h2 aria-level="1">Log på med din mailadresse</h2>
            </div>
            <div class="error pageLevel" aria-hidden="true" role="alert" style="display: none">
              <p></p>
            </div>
            <div class="entry">
              <div class="entry-item">
                <label for="email"> Mailadresse </label>
                <div class="error itemLevel" aria-hidden="true" role="alert" style="display: none">
                  <p></p>
                </div>
                <input
                  type="email"
                  id="email"
                  name="Mailadresse"
                  title="Angiv en gyldig Mailadresse"
                  pattern="^[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+(?:\.[a-zA-Z0-9!#$%&amp;'+^_`{}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$"
                  autofocus=""
                  placeholder="Mailadresse"
                  aria-label="Mailadresse"
                />
              </div>
              <div class="entry-item">
                <div class="password-label">
                  <label for="password">Adgangskode</label>
                  <a
                    id="forgotPassword"
                    href="/devDataHubB2C.onmicrosoft.com/B2C_1_SignInFlow/api/CombinedSigninAndSignup/unified?claimsexchange=ForgotPassword&amp;csrf_token=eHB4VTJRVGRFRGZwYWd0NVZQeUtqK2tHT3NsK21NMmpnbFdtZmFoNElSRGRla0tsbmJmKzV2RlNaUUpXZ3pkWjhCaTk5WHNoalc5elNkZXNIRGZKc1E9PTsyMDIzLTA2LTIxVDEwOjQ4OjEwLjQ2MjI2MjFaO3dGVDZIenNmcHRSY3d3Y2RNSW5Ka3c9PTt7Ik9yY2hlc3RyYXRpb25TdGVwIjoxfQ==&amp;tx=StateProperties=eyJUSUQiOiI3MTgyMTE2NC0zMWYzLTRiMjYtYWQ4OS00NGNlNTQyYzY2NTMifQ&amp;p=B2C_1_SignInFlow"
                    >Har du glemt din adgangskode?</a
                  >
                </div>
                <div class="error itemLevel" aria-hidden="true" style="display: none">
                  <p role="alert"></p>
                </div>
                <input
                  type="password"
                  id="password"
                  name="Adgangskode"
                  placeholder="Adgangskode"
                  aria-label="Adgangskode"
                  autocomplete="current-password"
                  aria-required="true"
                />
              </div>
              <div class="working"></div>

              <div class="buttons">
                <button id="next" type="submit" form="localAccountForm">Log på</button>
                <p id="forgotPasswordTemplate" class="template">
                  <span class="imprint imprint-da">
                    <a
                      href="/devDataHubB2C.onmicrosoft.com/B2C_1_SignInFlow/api/CombinedSigninAndSignup/unified?claimsexchange=ForgotPassword&amp;csrf_token=eHB4VTJRVGRFRGZwYWd0NVZQeUtqK2tHT3NsK21NMmpnbFdtZmFoNElSRGRla0tsbmJmKzV2RlNaUUpXZ3pkWjhCaTk5WHNoalc5elNkZXNIRGZKc1E9PTsyMDIzLTA2LTIxVDEwOjQ4OjEwLjQ2MjI2MjFaO3dGVDZIenNmcHRSY3d3Y2RNSW5Ka3c9PTt7Ik9yY2hlc3RyYXRpb25TdGVwIjoxfQ==&amp;tx=StateProperties=eyJUSUQiOiI3MTgyMTE2NC0zMWYzLTRiMjYtYWQ4OS00NGNlNTQyYzY2NTMifQ&amp;p=B2C_1_SignInFlow"
                      >Nulstil kodeord</a
                    >
                  </span>
                  <span class="imprint imprint-en">
                    <a
                      href="/devDataHubB2C.onmicrosoft.com/B2C_1_SignInFlow/api/CombinedSigninAndSignup/unified?claimsexchange=ForgotPassword&amp;csrf_token=eHB4VTJRVGRFRGZwYWd0NVZQeUtqK2tHT3NsK21NMmpnbFdtZmFoNElSRGRla0tsbmJmKzV2RlNaUUpXZ3pkWjhCaTk5WHNoalc5elNkZXNIRGZKc1E9PTsyMDIzLTA2LTIxVDEwOjQ4OjEwLjQ2MjI2MjFaO3dGVDZIenNmcHRSY3d3Y2RNSW5Ka3c9PTt7Ik9yY2hlc3RyYXRpb25TdGVwIjoxfQ==&amp;tx=StateProperties=eyJUSUQiOiI3MTgyMTE2NC0zMWYzLTRiMjYtYWQ4OS00NGNlNTQyYzY2NTMifQ&amp;p=B2C_1_SignInFlow"
                      >Reset password</a
                    >
                  </span>
                </p>
              </div>
            </div>
          </form>
        </div>
        <!-- #endregion -->
      </div>
    </main>

    <p id="forgotPasswordTemplate" class="template">
      <span class="imprint imprint-da">
        <a href="#">Nulstil kodeord</a>
      </span>
      <span class="imprint imprint-en">
        <a href="#">Reset password</a>
      </span>
    </p>
  </body>
</html>
