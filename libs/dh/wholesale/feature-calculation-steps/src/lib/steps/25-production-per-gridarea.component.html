<ng-container *transloco="let transloco; read: 'wholesale.processStepResults'">
  <watt-card (click)="openDetails()">
    <h4>
      <watt-badge>25</watt-badge>
      {{ transloco('aggregatedProductionPerGridArea') }}
    </h4>
    <watt-button variant="text" icon="openInNew">{{ transloco('open') }}</watt-button>
  </watt-card>

  <watt-drawer #drawer (closed)="onDrawerClosed()">
    <watt-drawer-topbar>
      <watt-breadcrumbs *transloco="let transloco; read: 'wholesale'">
        <watt-breadcrumb (click)="navigateToSearchBatch()">{{
          transloco("searchBatch.topBarTitle")
        }}</watt-breadcrumb>
        <watt-breadcrumb (click)="navigateToSearchBatch(batch.batchId)">{{
          transloco("batchDetails.headline", {
            batchId: batch.batchId
          })
        }}</watt-breadcrumb>
        <watt-breadcrumb (click)="drawer.close()">{{
          transloco("calculationSteps.breadcrumb", {
            gridAreaCode: gridArea.code,
            gridAreaName: gridArea.name
          })
        }}</watt-breadcrumb>
        <watt-breadcrumb>{{ transloco('processStepResults.step', {step: 25}) }}</watt-breadcrumb>
      </watt-breadcrumbs>
    </watt-drawer-topbar>

    <watt-drawer-content>
      <h3 class="headline watt-headline-1">
        <watt-badge>{{ transloco('step', {step: 25}) }}</watt-badge>
        {{ transloco('aggregatedProductionPerGridArea') }}
      </h3>
      <p>
        <strong>{{ transloco('gridArea') }}</strong>
        <ng-container *transloco="let transloco; read: 'wholesale'">
          {{
            transloco("calculationSteps.breadcrumb", {
              gridAreaCode: gridArea.code,
              gridAreaName: gridArea.name
            })
          }}
        </ng-container>
      </p>
      <hr />

      <ng-container *ngIf="processStepResults$ | async as processStepResults">
        <dh-wholesale-time-series-points
          [data]="processStepResults.timeSeriesPoints"
        ></dh-wholesale-time-series-points>
      </ng-container>
    </watt-drawer-content>
  </watt-drawer>
</ng-container>
