<h4>{{ title }}</h4>
<ng-container *ngIf="charges.length; else emptyTab">
    <mat-table #matTable [dataSource]="charges">
        <ng-container matColumnDef="chargeType">
            <mat-header-cell *matHeaderCellDef class="header-cell watt-label">{{
                'charges.chargeType.' + charges[0].chargeType
                | transloco
                }}</mat-header-cell>
            <mat-cell *matCellDef="let row">
                <div class="multi-line-cell">
                    <div class="watt-text-s">
                        {{ row.chargeName }}
                    </div>
                    <div class="watt-text-xs secondary-text">
                        {{ row.chargeId }}
                    </div>
                </div>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="owner">
            <mat-header-cell *matHeaderCellDef class="header-cell watt-label">
                {{ 'charges.chargeOwner' | transloco }}
            </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <div class="multi-line-cell">
                    <div class="watt-text-s">
                        {{ row.chargeOwnerName }}
                    </div>
                    <div class="watt-text-xs secondary-text">
                        {{ row.chargeOwner }}
                    </div>
                </div>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef class="header-cell watt-label">{{
                'charges.startDate' | transloco
                }}</mat-header-cell>
            <mat-cell *matCellDef="let row">
                <div class="watt-text-s">
                    <watt-icon name="date" [size]="iconSize.Small" class="primary-color"></watt-icon>
                </div>
                <div class="watt-text-s">
                    {{ row.startDate | dhDate }}
                </div>
                <ng-container *ngIf="row.endDate">
                    <div class="watt-text-s secondary-text" *transloco="let transloco;">
                        {{ (transloco('charges.validTo')) }}
                    </div>
                    <div class="watt-text-s">
                        {{ row.endDate | dhDate }}
                    </div>
                </ng-container>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="quantity">
            <mat-header-cell *matHeaderCellDef class="header-cell watt-label">
                <div *transloco="let transloco;">
                    {{ transloco('charges.quantity') }}</div>
            </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <div class="watt-text-s">
                    {{ row.quantity }}
                </div>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="invoicing">
            <mat-header-cell *matHeaderCellDef class="header-cell watt-label">
            </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <ng-container *ngIf="row.transparentInvoicing">
                    <div class="watt-text-s">
                        <watt-icon name="success" [size]="iconSize.Small" class="primary-color"></watt-icon>
                    </div>
                    <div class="watt-text-s" *transloco="let transloco;">
                        {{ transloco('charges.transparentInvoicing')}}
                    </div>
                </ng-container>
            </mat-cell>
        </ng-container>

        <!-- Header and Row Declarations -->
        <mat-header-row *matHeaderRowDef="['chargeType', 'owner', 'date', 'quantity', 'invoicing']"></mat-header-row>
        <mat-row *matRowDef="
        let row;
        columns: ['chargeType', 'owner', 'date', 'quantity', 'invoicing']">
        </mat-row>
    </mat-table>
</ng-container>

<ng-template #emptyTab>
    <watt-empty-state *transloco="let transloco;" size="small" [title]="transloco('charges.noActive', { title: title })"
        [message]="transloco('charges.noActiveMessage', { title: title })"></watt-empty-state>
</ng-template>