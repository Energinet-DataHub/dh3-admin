<ng-container *transloco="let t; read: 'admin.userManagement.tabs.roles'">
  <ng-container
    *rxLet="
      userRoleView$;
      let userRoleView;
      error: error;
      suspense: suspense;
      errorTrg: hasGeneralError$
    "
  >
    <watt-card>
      <watt-card-title>
        <h3>
          {{ userRoleView | userRoleCount }}
        </h3>
      </watt-card-title>
      <div class="userRoles" *ngFor="let org of userRoleView.organizations">
        <ng-container *ngFor="let actor of org.actors">
          <h6>
            {{ org?.name }} | GLN {{ actor.actorNumber }} |
            {{ actor.userRoles | joinUserRoles }}
          </h6>
          <mat-divider></mat-divider>
          <ul class="watt-text-s">
            <li *ngFor="let userRole of actor.userRoles">
              <div>{{ userRole.name }}</div>
              <div>Manglede beskrivelse</div>
            </li>
          </ul>
        </ng-container>
      </div>
    </watt-card>
  </ng-container>

  <ng-template #suspense>
    <watt-spinner></watt-spinner>
  </ng-template>
  <ng-template #error>
    <watt-empty-state
      icon="custom-power"
      [title]="t('errorTitle')"
      [message]="t('errorMessage')"
    >
    </watt-empty-state>
  </ng-template>
</ng-container>
