<ng-container *transloco="let t; read: 'marketParticipant.actorsOverview'">
  <watt-table
    [dataSource]="tableDataSource"
    [columns]="columns"
    sortBy="name"
    [loading]="isLoading"
    sortDirection="asc"
    [sortClear]="false"
  >
    <ng-container
      *wattTableCell="columns['glnOrEicNumber']; header: t('columns.glnOrEic'); let actor"
    >
      {{ actor.glnOrEicNumber }}
    </ng-container>

    <ng-container *wattTableCell="columns['name']; header: t('columns.name'); let actor">
      {{ actor.name }}
    </ng-container>

    <ng-container
      *wattTableCell="columns['marketRole']; header: t('columns.marketRole'); let actor"
    >
      <ng-container *ngIf="actor.marketRole; else marketRoleNotSet">
        {{ "marketParticipant.marketRoles." + actor.marketRole | transloco }}
      </ng-container>

      <ng-template #marketRoleNotSet>
        {{ actor.marketRole | dhEmDashFallback }}
      </ng-template>
    </ng-container>

    <ng-container *wattTableCell="columns['status']; header: t('columns.status'); let actor">
      <dh-actor-status-badge [status]="actor.status" />
    </ng-container>
  </watt-table>

  <ng-container *ngIf="!isLoading && tableDataSource.filteredData.length === 0">
    <div class="watt-space-inset-m">
      <watt-empty-state
        *ngIf="!hasError"
        icon="cancel"
        [title]="t('emptyTitle')"
        [message]="t('emptyMessage')"
      />

      <watt-empty-state
        *ngIf="hasError"
        icon="custom-power"
        [title]="t('errorTitle')"
        [message]="t('errorMessage')"
      />
    </div>
  </ng-container>

  <watt-paginator [for]="tableDataSource" [pageSize]="100" />
</ng-container>
